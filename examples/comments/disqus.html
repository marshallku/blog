{# ============================================ #}
{# Disqus Comment System Example               #}
{# Classic comment platform                    #}
{# ============================================ #}

{#
   SETUP INSTRUCTIONS:
   1. Create account at https://disqus.com
   2. Register your site and get your shortname
   3. Replace 'YOUR-SHORTNAME' with your Disqus shortname
   4. Copy this entire block into templates/post.html

   NOTE: Disqus free tier includes ads and tracks users.
         Consider privacy-focused alternatives (Utterances, Giscus)
#}

{% block comments %}
<section class="comments">
    <h2>Comments</h2>

    <div id="disqus_thread"></div>

    <script>
    /**
     * CONFIGURATION
     * Replace the values below with your actual site information
     */
    var disqus_config = function () {
        // Canonical URL for this page
        this.page.url = "{{ config.site_url }}/{{ post.category }}/{{ post.slug }}";

        // Unique identifier for this page
        this.page.identifier = "{{ post.slug }}";

        // Page title
        this.page.title = "{{ post.title }}";

        // Category identifier (optional)
        this.page.category_id = "{{ post.category }}";
    };

    (function() {
        // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        // REPLACE 'YOUR-SHORTNAME' with your Disqus shortname
        s.src = 'https://YOUR-SHORTNAME.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    </script>

    <noscript>
        Please enable JavaScript to view the
        <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
</section>

<style>
.comments {
    margin-top: 4rem;
    padding-top: 2rem;
    border-top: 2px solid #e1e4e8;
}

.comments h2 {
    margin-bottom: 1.5rem;
}

/* Disqus thread container */
#disqus_thread {
    min-height: 200px;
}
</style>

{#
   ADVANCED CONFIGURATION:

   Single Sign-On (SSO):
   If you have SSO configured, add:
   this.page.remote_auth_s3 = "{{ remote_auth_s3 }}";
   this.page.api_key = "{{ public_api_key }}";

   Custom CSS:
   You can customize Disqus appearance in your Disqus admin panel:
   https://disqus.com/admin/settings/

   Lazy Loading:
   To improve performance, you can lazy-load Disqus on scroll:
   Replace the immediate function call with an Intersection Observer

   Privacy Notes:
   - Disqus tracks users for ads and analytics
   - Consider adding this to your privacy policy
   - Free tier includes ads
   - Users can block Disqus with ad blockers
#}
{% endblock %}
