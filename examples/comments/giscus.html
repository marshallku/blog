{# ============================================ #}
{# Giscus Comment System Example               #}
{# GitHub Discussions-based comments           #}
{# ============================================ #}

{#
   SETUP INSTRUCTIONS:
   1. Enable Discussions on your GitHub repo
   2. Install giscus app: https://github.com/apps/giscus
   3. Go to https://giscus.app to configure and get your IDs
   4. Replace the placeholders below with your values
   5. Copy this entire block into templates/post.html
#}

{% block comments %}
<section class="comments">
    <h2>Discussion</h2>
    <p>Join the conversation! Comments are powered by GitHub Discussions.</p>

    <script src="https://giscus.app/client.js"
            data-repo="your-username/your-repo"
            data-repo-id="YOUR_REPO_ID"
            data-category="Comments"
            data-category-id="YOUR_CATEGORY_ID"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="top"
            data-theme="preferred_color_scheme"
            data-lang="en"
            data-loading="lazy"
            crossorigin="anonymous"
            async>
    </script>

    {#
       CONFIGURATION OPTIONS:

       data-repo: Your GitHub repository (e.g., "username/repo")

       data-repo-id: Repository ID from giscus.app

       data-category: Discussion category name (e.g., "Comments", "General")

       data-category-id: Category ID from giscus.app

       data-mapping: How to match discussions to posts
         - "pathname"    (recommended) - Uses URL path
         - "url"         - Uses full URL
         - "title"       - Uses page title
         - "og:title"    - Uses Open Graph title

       data-strict: Strict title matching
         - "0" - Flexible matching (recommended)
         - "1" - Exact matching

       data-reactions-enabled: Enable emoji reactions
         - "1" - Enable (recommended)
         - "0" - Disable

       data-emit-metadata: Emit discussion metadata
         - "0" - Disable (recommended for most use cases)
         - "1" - Enable (for advanced integrations)

       data-input-position: Comment input box position
         - "top"    - Above comments (recommended)
         - "bottom" - Below comments

       data-theme: Visual theme
         - "light"                    - Light theme
         - "dark"                     - Dark theme
         - "preferred_color_scheme"   - Auto (matches system)
         - "dark_dimmed"              - Dimmed dark theme
         - "transparent_dark"         - Transparent dark
         - "noborder_light"           - Light without borders
         - Custom CSS URL for your own theme

       data-lang: Language code
         - "en"    - English
         - "ko"    - Korean
         - "zh-CN" - Simplified Chinese
         - "ja"    - Japanese
         - See giscus.app for full list

       data-loading: Loading behavior
         - "lazy"  - Load when scrolled into view (recommended)
         - "eager" - Load immediately
    #}

    <noscript>
        <p>Comments require JavaScript. Please enable JavaScript to view the comment section.</p>
    </noscript>
</section>

<style>
.comments {
    margin-top: 4rem;
    padding-top: 2rem;
    border-top: 2px solid #e1e4e8;
}

.comments h2 {
    margin-bottom: 0.5rem;
}

.comments p {
    color: #666;
    margin-bottom: 1.5rem;
}

/* Giscus container styling */
.giscus {
    max-width: 100%;
}
</style>
{% endblock %}
