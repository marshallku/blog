"use strict";(()=>{function o(n,e){return{postSlug:n,apiUrl:e,loading:!0,async init(){await this.loadButton()},async loadButton(){let t=document.getElementById("like-button");if(t)try{let i=await fetch(`${this.apiUrl}/api/v2/like/status?postSlug=${encodeURIComponent(this.postSlug)}`,{credentials:"include"});if(!i.ok)throw new Error;t.innerHTML=await i.text()}catch{t.innerHTML='<button class="post-like__button" disabled>\uC624\uB958</button>'}finally{this.loading=!1}},async toggle(){if(this.loading)return;let t=document.getElementById("like-button");if(t){this.loading=!0;try{let i=await fetch(`${this.apiUrl}/api/v2/like/toggle`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({postSlug:this.postSlug})});if(!i.ok)throw new Error;t.innerHTML=await i.text()}catch{}finally{this.loading=!1}}}}}window.likeButton=o;})();
