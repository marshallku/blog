{# Previous/Next Post Navigation Component #}
{# Usage: {{ macros::prev_next_post(prev=prev_post, next=next_post) }} #}
{# PostLink structure: slug, title, url, category, cover_image, thumbnail_metadata #}

{% macro prev_next_post(prev, next) %}
{% if prev or next %}
<nav class="prev-next-post">
    {% if prev %}
    <a href="{{ prev.url }}" class="prev-next-post-post prev-next-post-post--previous">
        <div class="prev-next-post-post__meta">
            <span class="prev-next-post-post__label typography-c1">
                <i class="icon-chevron-left"></i>
                이전 글
            </span>
            <h4 class="prev-next-post-post__title typography-h4">{{ prev.title }}</h4>
            {% if prev.thumbnail_metadata %}
            <picture class="prev-next-post-post__cover">
                <source type="image/webp" srcset="{{ prev.thumbnail_metadata.webp_src }}">
                <source srcset="{{ prev.thumbnail_metadata.src }}">
                <img src="{{ prev.thumbnail_metadata.src }}" alt="{{ prev.title }}" loading="lazy">
            </picture>
            {% elif prev.cover_image %}
            <img src="{{ prev.cover_image }}" alt="{{ prev.title }}" class="prev-next-post-post__cover">
            {% endif %}
        </div>
    </a>
    {% endif %}
    {% if next %}
    <a href="{{ next.url }}" class="prev-next-post-post">
        <div class="prev-next-post-post__meta">
            <span class="prev-next-post-post__label typography-c1">
                <i class="icon-chevron-right"></i>
                다음 글
            </span>
            <h4 class="prev-next-post-post__title typography-h4">{{ next.title }}</h4>
            {% if next.thumbnail_metadata %}
            <picture class="prev-next-post-post__cover">
                <source type="image/webp" srcset="{{ next.thumbnail_metadata.webp_src }}">
                <source srcset="{{ next.thumbnail_metadata.src }}">
                <img src="{{ next.thumbnail_metadata.src }}" alt="{{ next.title }}" loading="lazy">
            </picture>
            {% elif next.cover_image %}
            <img src="{{ next.cover_image }}" alt="{{ next.title }}" class="prev-next-post-post__cover">
            {% endif %}
        </div>
    </a>
    {% endif %}
</nav>
{% endif %}
{% endmacro prev_next_post %}
